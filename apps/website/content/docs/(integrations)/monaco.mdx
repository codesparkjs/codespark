---
title: Monaco
description: Integrate Monaco Editor with Codespark for advanced IntelliSense and TypeScript support
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

The [Monaco Editor](https://microsoft.github.io/monaco-editor) is the code editor that powers VS Code. It is a feature-rich web editor with syntax highlighting, IntelliSense, and code completion.

Due to bundle size considerations, Codespark uses CodeMirror as the default editor. However, we highly recommend trying Monaco for a more advanced editing experience.

## Monaco vs CodeMirror

| Feature | Monaco Editor | CodeMirror |
| --- | --- | --- |
| **Bundle Size** | ~2MB+ (Large) | ~100KB (Lightweight) |
| **Syntax Highlighting** | ✅ Rich built-in language support | ✅ Via extensions |
| **IntelliSense** | ✅ Powerful IntelliSense | ⚠️ Requires additional setup |
| **Code Completion** | ✅ Out of the box | ⚠️ Requires extensions |
| **Customizability** | ✅ Highly customizable | ✅ Highly customizable |
| **TypeScript Support** | ✅ Native support | ⚠️ Requires configuration |
| **Best For** | Complex IDE-like applications | Lightweight editing needs |

## Setup

Monaco in Codespark is loaded on demand:

```ts twoslash
import { Monaco } from '@codespark/react/monaco';
```

Pass `Monaco` to the `editor` prop of the `Codespark` or `CodesparkEditor` component to replace the default CodeMirror editor.

``` tsx twoslash preview
// @noErrors
import { Codespark } from '@codespark/react';
import { Monaco } from '@codespark/react/monaco';

const code = `export default function App() {
  return (
    <div className="text-center">
      <h1 className="text-xl font-bold">Hello World</h1>
      <p>This is my first Codes Park!</p>
    </div>
  );
}`;

export default function App() {
  return <Codespark editor={Monaco} code={code} />;
}
```

You can also configure Monaco globally so that all Codespark instances use it by default:

```tsx
import { ConfigProvider } from '@codespark/react';
```

```tsx
<ConfigProvider editor={Monaco}>                  
  {/* your app root */}
</ConfigProvider>
```

## Features

### TypeScript Type Inference

Codespark Monaco provides excellent TypeScript support. It automatically fetches type definitions from imported npm packages and displays type information on hover.

```tsx codespark-preview
import { Codespark } from '@codespark/react';
import { Monaco } from '@codespark/react/monaco';

const code = `import { Heart, Sparkles, Star } from 'lucide-react';

export default function App() {
  const icons = [Heart, Star, Sparkles];

  return (
    <div className="flex items-center justify-center gap-6 p-6">
      {icons.map((Icon, i) => (
        <Icon key={i} className="h-8 w-8" />
      ))}
    </div>
  );
}`;

export default function App() {
  return <Codespark editor={Monaco} code={code} />;
}
```

<Callout>Ensure that the npm packages you import have type definitions available, otherwise this feature will not work.</Callout>

### Path Auto-completion

In multi-file mode, Codespark Monaco supports automatic path completion for imports, inferring paths from all modules defined in the `files` object.

```tsx codespark-preview
import { Codespark } from '@codespark/react';
import { Monaco } from '@codespark/react/monaco';

const files = {
  './App.tsx': `import { Button } from './components/button';

export default function App() {
  return (
    <div className="flex justify-center">
      <Button />
    </div>
  );
}`,
  './components/button.tsx': `import confetti from 'https://esm.sh/canvas-confetti@1.6.0';

export function Button() {
  return (
    <button className="mx-auto cursor-pointer rounded-lg bg-gray-100 px-3 py-2 dark:bg-gray-700" onClick={() => confetti()}>
      Click Me
    </button>
  );
}`
};

export default function App() {
  return <Codespark editor={Monaco} files={files} />;
}
```

### Syntax Error Diagnostics

Codespark Monaco provides real-time syntax error diagnostics. When your code contains syntax errors, the editor will highlight the problematic areas and display error messages to help you identify and fix issues quickly.

```tsx codespark-preview height=249
import { CodesparkEditor } from '@codespark/react';
import { Monaco } from '@codespark/react/monaco';

const code = `export default function App() {
  const message = Hello World"
  return (
    <div>
      <h1>{message</h1>
    </div>
  )
}`;

export default function App() {
  return <CodesparkEditor editor={Monaco} value={code} toolbox={[]} />;
}
```

## via NPM

By default, Monaco is loaded from a CDN to minimize bundle size. If you prefer to bundle Monaco locally from npm, follow these steps:

<Steps>
  <Step>
  **Install the `monaco-editor` package:**

  ```npm
  npm install monaco-editor
  ```
  </Step>
  <Step>
  **Initialize Monaco using the `load` function:**

  ```ts
  import * as monaco from 'monaco-editor';
  import { Monaco } from '@codespark/react/monaco';

  Monaco.load({ monaco });
  ```
  </Step>
  <Step>
  **Worker configuration (vite only).**

  ```ts
  import editorWorker from 'monaco-editor/esm/vs/editor/editor.worker?worker';
  import jsonWorker from 'monaco-editor/esm/vs/language/json/json.worker?worker';
  import cssWorker from 'monaco-editor/esm/vs/language/css/css.worker?worker';
  import htmlWorker from 'monaco-editor/esm/vs/language/html/html.worker?worker';
  import tsWorker from 'monaco-editor/esm/vs/language/typescript/ts.worker?worker';

  self.MonacoEnvironment = {
    getWorker(_, label) {
      if (label === 'json') {
        return new jsonWorker();
      }
      if (label === 'css' || label === 'scss' || label === 'less') {
        return new cssWorker();
      }
      if (label === 'html' || label === 'handlebars' || label === 'razor') {
        return new htmlWorker();
      }
      if (label === 'typescript' || label === 'javascript') {
        return new tsWorker();
      }
      return new editorWorker();
    },
  };
  ```
  </Step>
</Steps>

<Callout title="Note" type="warn">
Loading monaco-editor from npm includes all language grammars by default, which significantly increases your bundle size. Consider using a bundler plugin to optimize this:

- Vite: [vite-plugin-monaco-editor](https://github.com/vdesjs/vite-plugin-monaco-editor)
- Webpack: [monaco-editor-webpack-plugin](https://www.npmjs.com/package/monaco-editor-webpack-plugin)
</Callout>

## Configurations

Monaco has an extensive configuration system. Codespark supports passing through all Monaco configuration options to customize your editor. Check the [API reference](/) for more detail.

```tsx twoslash
// @noErrors
import { CodesparkEditor } from '@codespark/react';
import { Monaco } from '@codespark/react/monaco';

<CodesparkEditor editor={Monaco} options={{...}} />;
```
