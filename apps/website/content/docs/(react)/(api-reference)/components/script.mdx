---
title: Script
description: Injects custom JavaScript into the preview iframe.
---

`Script` is an injection component that adds JavaScript to the preview iframe. It renders nothing in the React tree but injects a `<script>` tag into the iframe's document.

```tsx
import { Script } from '@codespark/react';
```

## Basic Usage

Pass the `Script` component as a child of `Codespark` or `CodesparkPreview`:

```tsx twoslash preview
// @noErrors
import { Codespark, Script } from '@codespark/react';

const code = `export default function App() {
  return (
    <button
      className="px-4 py-2 bg-blue-500 text-white rounded"
      onClick={() => window.sayHello()}
    >
      Click me
    </button>
  );
}`;

export default function App() {
  return (
    <Codespark code={code}>
      <Script>{`window.sayHello = () => alert('Hello from injected script!')`}</Script>
    </Codespark>
  );
}
```

## Inline Scripts

Pass JavaScript code as children:

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script>
  {`
    window.myGlobalFunction = () => {
      console.log('Hello from global function');
    };
  `}
</Script>
```

## External Scripts

Load external scripts using the `src` attribute:

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script src="https://cdn.example.com/library.js" />
```

## Props

`Script` accepts all standard HTML `<script>` attributes:

### children

Inline JavaScript code to execute.

| Type | Default | Since |
| ---- | ------- | ----- |
| `string` | - | v1.0.0 |

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script>{`console.log('Hello')`}</Script>
```

### src

URL of an external script to load.

| Type | Default | Since |
| ---- | ------- | ----- |
| `string` | - | v1.0.0 |

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script src="https://example.com/script.js" />
```

### type

Script type (e.g., `'module'`, `'text/javascript'`).

| Type | Default | Since |
| ---- | ------- | ----- |
| `string` | - | v1.0.0 |

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script type="module">{`import { foo } from './bar.js'`}</Script>
```

### async

Whether to load the script asynchronously.

| Type | Default | Since |
| ---- | ------- | ----- |
| `boolean` | - | v1.0.0 |

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script src="https://example.com/script.js" async />
```

### defer

Whether to defer script execution until the document is parsed.

| Type | Default | Since |
| ---- | ------- | ----- |
| `boolean` | - | v1.0.0 |

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script src="https://example.com/script.js" defer />
```

### Other Attributes

Any other valid `<script>` HTML attributes are also supported:

```tsx twoslash
// @noErrors
import { Script } from '@codespark/react';
// ---cut---
<Script
  src="https://example.com/script.js"
  crossOrigin="anonymous"
  integrity="sha384-..."
/>
```

## Use Cases

### Adding Global Functions

```tsx twoslash
// @noErrors
import { Codespark, Script } from '@codespark/react';
// ---cut---
<Codespark>
  <Script>
    {`
      window.formatDate = (date) => {
        return new Date(date).toLocaleDateString();
      };
    `}
  </Script>
</Codespark>
```

### Loading Third-Party Libraries

```tsx twoslash
// @noErrors
import { Codespark, Script } from '@codespark/react';
// ---cut---
<Codespark>
  <Script src="https://cdn.jsdelivr.net/npm/chart.js" />
</Codespark>
```

### Analytics or Tracking

```tsx twoslash
// @noErrors
import { Codespark, Script } from '@codespark/react';
// ---cut---
<Codespark>
  <Script>
    {`
      // Track preview interactions
      document.addEventListener('click', (e) => {
        console.log('Click tracked:', e.target);
      });
    `}
  </Script>
</Codespark>
```

## Execution Order

Scripts are injected into the iframe's `<head>` element before the preview code runs. This ensures that global functions and libraries are available when your preview code executes.

<Callout title="Note">
Inline scripts execute immediately. External scripts with `async` or `defer` may load after the preview renders.
</Callout>
