---
title: Codespark
description: The main component that combines editor and preview into a complete interactive code playground.
---

`Codespark` is the all-in-one component that provides a complete code playground experience. It combines a code editor, file explorer, and live preview into a single, easy-to-use component.

```tsx
import { Codespark } from '@codespark/react';
```

## Basic Usage

The simplest way to use Codespark is to pass your code as a string:

```tsx preview
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return (
    <div className="text-center">
      <h1 className="text-xl font-bold">Hello World</h1>
      <p>This is my first Codespark!</p>
    </div>
  );
}`;

export default function App() {
  return <Codespark code={code} />;
}
```

## Props

### code

Source code content for single-file mode.

| Type | Default |
| ---- | ------- |
| `string` | - |

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark code="export default () => <div>Hello</div>" />
```

### files

File mapping for multi-file mode. Each key represents a file path, and the value contains the file content.

| Type | Default |
| ---- | ------- |
| `Record<string, string>` | - |

<Callout title="File Name Convention" type="warn">
All file names **must start with './'** to distinguish between local file dependencies and external package references.
</Callout>

```tsx twoslash preview
// @noErrors
import { Codespark } from '@codespark/react';

const files = {
  './App.tsx': `import { Welcome } from './welcome';

export default function App() {
  return <Welcome />;
}`,
  './welcome.tsx': `export function Welcome() {
  return (
    <div className="text-center">
      <h1 className="text-xl font-bold">Hello World</h1>
      <p>This is my first Codes Park!</p>
    </div>
  );
}`
};

export default function App() {
  return <Codespark files={files} />;
}
```

### name

Entry file path. This is the main file that will be compiled and rendered.

| Type | Default |
| ---- | ------- |
| `string` | `'./App.tsx'` |

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark name="./index.tsx" files={{ './index.tsx': '...' }} />
```

### framework

Framework to use for code analysis and compilation.

| Type | Default |
| ---- | ------- |
| `Framework \| (new () => Framework) \| string` | `'react'` |

Currently supported frameworks:
- `react` - React/JSX components
- `markdown` - Markdown documents
- `HTML` - Pure HTML markup

```tsx twoslash
// @noErrors
import { html } from '@codespark/framework/html';
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark framework={html} />
```

### theme

Theme mode for the editor and preview.

| Type | Default |
| ---- | ------- |
| `'light' \| 'dark'` | `'light'` |

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark theme="dark" />
```

### imports

Custom import map for external dependencies. Each key represents the module name used in import statements, and the value is a valid [esm.sh](https://esm.sh/) URL.

| Type | Default |
| ---- | ------- |
| `Record<string, string>` | - |

Use this to pin specific package versions or override default package resolutions.

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark
  code={`import * as _ from 'lodash-es';`}
  imports={{ 'lodash-es': 'https://esm.sh/lodash-es@4.17.21' }}
/>
```

### tailwindcss

| Type | Default |
| ---- | ------- |
| `boolean` | `true` |

This prop is passed directly to the `CodesparkPreview` component. See [CodesparkPreview > Props > tailwindcss](/docs/components/codespark-preview#tailwindcss) for usage details.

### showEditor

Whether to show the code editor.

| Type | Default |
| ---- | ------- |
| `boolean` | `true` |

Set to `false` to show only the preview area. Useful for documentation where you want to display the result without the editable code.

```tsx twoslash preview height=202
// @noErrors
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return (
    <div className="flex items-center justify-center">
      <span className="text-lg font-medium">Preview Only Mode</span>
    </div>
  );
}`;

export default function App() {
  return <Codespark code={code} showEditor={false} />;
}
```

### showPreview

Whether to show the preview area.

| Type | Default |
| ---- | ------- |
| `boolean` | `true` |

Set to `false` to show only the code editor. Useful when you want users to write code without seeing the live preview.

```tsx twoslash preview height=250
// @noErrors
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return <div>Editor Only Mode</div>;
}`;

export default function App() {
  return <Codespark code={code} showPreview={false} />;
}
```

### showFileExplorer

Whether to show the file explorer sidebar.

| Type | Default |
| ---- | ------- |
| `boolean` | `true` |

The file explorer appears when you have multiple files. Set to `false` to hide it even in multi-file mode.

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark showFileExplorer={false} />
```

### readonly

Whether to set the editor to read-only mode.

| Type | Default |
| ---- | ------- |
| `boolean` | `false` |

When `true`, users can view but not edit the code. The preview still works normally.

```tsx twoslash preview
// @noErrors
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return (
    <div className="text-center">
      <h1 className="text-xl font-bold">Read-Only Mode</h1>
      <p className="text-gray-500">Try editing this code - you can't!</p>
    </div>
  );
}`;

export default function App() {
  return <Codespark code={code} readonly />;
}
```

### defaultExpanded

Whether the file explorer is expanded by default.

| Type | Default |
| ---- | ------- |
| `boolean` | Auto (based on file count) |

When not set, the file explorer automatically expands if there are multiple files.

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark defaultExpanded />
```

### editorHeight

Height of the editor area in pixels.

| Type | Default |
| ---- | ------- |
| `number` | `200` |

```tsx twoslash preview
// @noErrors
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return (
    <div className="text-center">
      <h1 className="text-xl font-bold">Custom Height</h1>
      <p>Editor height is set to 100px</p>
    </div>
  );
}`;

export default function App() {
  return <Codespark code={code} editorHeight={100} />;
}
```

### previewHeight

Height of the preview area in pixels.

| Type | Default |
| ---- | ------- |
| `number` | `200` |

```tsx twoslash preview
// @noErrors
import { Codespark } from '@codespark/react';

const code = `export default function App() {
  return (
    <div className="flex h-full items-center justify-center">
      <span className="text-lg font-medium">Preview height is 100px</span>
    </div>
  );
}`;

export default function App() {
  return <Codespark code={code} previewHeight={100} />;
}
```

### className

CSS class name for the container element.

| Type | Default |
| ---- | ------- |
| `string` | - |

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark className="my-custom-class" />
```

### editor

Editor engine component to use. Supports Monaco Editor or CodeMirror.

| Type | Default |
| ---- | ------- |
| `typeof Monaco \| typeof CodeMirror` | `CodeMirror` |

CodeMirror is the default editor and is lighter weight. Monaco provides a more feature-rich experience similar to VS Code.

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
import { Monaco } from '@codespark/react/Monaco';
// ---cut---
<Codespark editor={Monaco} />
```

<Callout title="Monaco Editor">
Monaco Editor requires additional setup. See the [Monaco Integration](/docs/monaco) guide for details.
</Callout>

### toolbox

| Type | Default |
| ---- | ------- |
| `boolean \| (ToolboxItemId \| ToolboxItemConfig \| ReactElement)[]` | `['reset', 'format', 'copy']` |

This prop is passed directly to the `CodesparkEditor` component. See [CodesparkEditor > Props > toolbox](/docs/components/codespark-editor#toolbox) for usage details.

### getWorkspace

Ref to get the Workspace instance for external control.

| Type | Default |
| ---- | ------- |
| `RefObject<Workspace \| null>` | - |

Use this to programmatically control the workspace, such as getting/setting files, listening to events, etc.

```tsx twoslash
// @noErrors
import { useRef } from 'react';
import { Codespark, type Workspace } from '@codespark/react';

function App() {
  const workspaceRef = useRef<Workspace | null>(null);

  const handleGetCode = () => {
    const workspace = workspaceRef.current;
    if (workspace) {
      console.log(workspace.files);
    }
  };

  return (
    <>
      <Codespark code={code} getWorkspace={workspaceRef} />
      <button onClick={handleGetCode}>Get Code</button>
    </>
  );
}
```

See the [Workspace API](/docs/workspace-api) for more details on available methods and events.

### children

| Type | Default |
| ---- | ------- |
| `ReactNode` | - |

This prop is passed directly to the `CodesparkPreview` component. See [CodesparkPreview > Props > children](/docs/components/codespark-preview#children) for usage details.

### onConsole

| Type | Default |
| ---- | ------- |
| `(data: OnConsoleData) => void` | - |

This prop is passed directly to the `CodesparkPreview` component. See [CodesparkPreview > Props > onConsole](/docs/components/codespark-preview#onconsole) for usage details.

### onError

| Type | Default |
| ---- | ------- |
| `(error: unknown) => void` | - |

This prop is passed directly to the `CodesparkPreview` component. See [CodesparkPreview > Props > onError](/docs/components/codespark-preview#onerror) for usage details.
