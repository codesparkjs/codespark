---
title: Framework
description: Extend Codespark with runtime plugins.
---

To extend Codespark's capabilities, a framework plugin system was designed to support various language frameworks. Once a framework is configured, Codespark gains the ability to compile the corresponding language, allowing you to write code in that framework in the editor and preview it.

## Installation

```npm
npm install @codespark/framework
```

```ts
import { markdown } from '@codespark/framework/markdown';
import { mdx } from '@codespark/framework/mdx';
import { react } from '@codespark/framework/react';
```

<Callout>Codespark already integrates `@codespark/framework/react` internally, so you don't need to install it again.</Callout>

## Usage

### Codespark

You can specify the framework directly through the `framework` prop in the `Codespark` component.

```tsx twoslash
// @noErrors
import { Codespark } from '@codespark/react';
// ---cut---
<Codespark framework={markdown} />
```

### Provider

When using custom composable components, you can pass `framework` to `CodesparkProvider`.

```tsx twoslash
// @noErrors
import { CodesparkProvider } from '@codespark/react';
// ---cut---
<CodesparkProvider framework={markdown} />
```

### Workspace

You can also specify the framework through Workspace. All Codespark instances using this Workspace will support the corresponding language.

```ts twoslash
// @noErrors
import { Workspace } from '@codespark/react';
// ---cut---
new Workspace({ framework: markdown, ... })
```

### Global

Codespark also provides a way to register frameworks globally. Use `registerFramework` in your project's entry file:

```ts title="App.tsx" twoslash
import { registerFramework } from '@codespark/framework';
import { markdown } from '@codespark/framework/markdown';

registerFramework(markdown);
registerFramework(markdown, 'md'); // customize framework's name
```

Once you've registered a framework globally, you can configure it by its name.

```tsx
<Codespark framework="markdown">
<Codespark framework="md">

<CodesparkProvider framework="markdown">
new Workspace({ framework: 'md', ... })
```

## Frameworks

### React

```ts
import { react } from '@codespark/framework/react';
```

React framework provides full support for React components rendering with the following features:
- Auto dependency analysis
- Multi-file support
- TypeScript/TSX syntax support
- Import `.css`, `.json`, and `.md` files
- Automatic JSX runtime (no need to `import React`)
- Extension auto-resolution (e.g., `import './Button'` resolves to `./Button.tsx`)
- External npm package support via ESM CDN

### Vue

WIP...

### Markdown

```ts
import { markdown } from '@codespark/framework/markdown';
```

```tsx codespark-preview
import { markdown } from '@codespark/framework/markdown';
import { Codespark } from '@codespark/react';

export default function App() {
  return <Codespark framework={markdown} name="index.md" code="# Hello World" tailwindcss={false} />;
}
```

### HTML

```ts
import { html } from '@codespark/framework/html';
```

```tsx codespark-preview
import { html } from '@codespark/framework/html';
import { Codespark } from '@codespark/react';

const files = {
  './index.html': `<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheel" href="./style.css" >
</head>
<body>
  <div id="app"></div>
  <script src="./utils.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>  
`,
  './style.css': 'body { margin: 0 }',
  './utils.js': 'window.utils = { log: console.log }',
  './main.js': `import { helper } from './helper.js'
helper()`,
  './helper.js': 'export function helper() { console.log("hello"); }'
}

export default function App() {
  return <Codespark framework={html} name="./index.html" files={files} />;
}
```

### MDX

```ts
import { mdx } from '@codespark/framework/mdx';
```

## Custom Framework

If you want to add support for other frameworks, pull requests are welcome!
